{% extends "hakkadbapp/base.html" %}
{% load static %}
{% block content %} 
<div class="mt-10 px-4 sm:px-6 lg:px-8 w-full max-w-screen-md mx-auto text-center">
  <label for="pinyin-input" class="text-xl font-bold mb-3 text-gray-800 block">
    Écrire en hakka
  </label>

  <small class="text-gray-600 block mb-4">
    Taper le pinyin (ex. <code>wuk5ga1</code>). <br>
    Eventuellement, utiliser le caractère <code>_</code> pour ne pas signifier le ton.
    (ex. <code>wuk_ga_</code>) <br>
    Utiliser <kbd>TAB</kbd> pour sélectionner le caractère, <br>
    puis <kbd>ENTRER</kbd> pour l'insérer dans le champ de saisie.
  </small>

  <textarea id="pinyin-input"
            placeholder="Ex: wuk5 ka1 hao3 tai4"
            class="w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm text-base focus:outline-none focus:ring-2 focus:ring-indigo-400 resize-y min-h-[100px] max-h-[300px]">
  </textarea>

  <div id="suggested-hanzi"
       class="mt-4 text-base text-indigo-800 leading-tight break-words">
  </div>

  <div id="pinyin-sentence-results"
       class="mt-4 text-sm text-gray-700 leading-none text-left bg-white p-3 rounded-md shadow border border-gray-100">
  </div>

  <div id="hanzi-only-output"
       class="mt-4 text-sm text-gray-700 leading-snug text-left bg-white p-3 rounded-md shadow border border-gray-100">
  </div>

  <label>Caractères inconnus. </label>
  <div id="unknown-chars"
       class="mt-4 text-sm leading-snug text-left bg-white p-3 rounded-md shadow border border-gray-100">
  </div>

  <div id="pinyin-only"
       class="mt-4 text-sm text-gray-700 leading-snug text-left bg-white p-3 rounded-md shadow border border-gray-100">
  </div>

  <div id="expression-output"
       class="mt-4 text-sm text-gray-700 leading-snug text-left bg-white p-3 rounded-md shadow border border-gray-100">
  </div>
</div>

    <div id="word-list" hidden>
        <ul id="pron-list" class="flex flex-wrap gap-2">
        {% for p in pronunciations %}
            <li class="w-28" data-search="{{ p.simp }},{{ p.trad }},{{ p.initial.initial }},{{ p.final.final }},{{ p.tone.tone_number|default:'' }}">
                <div class="text-indigo-600 font-semibold text-lg">{{ p.simp }}</div>
                <div class="text-indigo-600 font-semibold text-lg">{{ p.trad }}</div>
                <div class="text-gray-700">
                  {% include "hakkadbapp/components/pinyin_switch.html" with i=p.initial.initial f=p.final.final t=p.tone.tone_number %}
                </div>
            </li>
        {% empty %}
            <li class="text-gray-500 italic">No pronunciations found.</li>
        {% endfor %}
        </ul>
    </div>
    <script src="{% static 'hakkadbapp/js/converter.js' %}">

    </script>
{% endblock %}